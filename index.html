<!DOCTYPE html>

<html lang="en">

<head>
  <meta content="Idea-2-3D" name="title" />
  <meta content="Iterative Self-Refinement with Large Multimodal Model for Automated 3D Model Design and Generation" name="description" />
  <meta content="3D Generative Model, Computer Vision, Computer Graphics" name="keywords" />
  <meta content="index, follow" name="robots" />
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type" />
  <meta content="English" name="language" />
  <meta content="Junhao Chen" name="author" />
  
  <title>Idea-2-3D</title>
  
  <link rel="icon" type="img/x-icon" href="img/favicon.ico" />
  <!-- Bootstrap -->
  <script src="js/video_comparison.js"></script>
  <script src="js/jquery-3.4.1.min.js"></script>
  <script src="js/bootstrap-4.4.1.js"></script>


  <link href="css/bootstrap-4.4.1.css" rel="stylesheet" />
  <link href="https://cdn.jsdelivr.net/gh/jpswalsh/academicons@1/css/academicons.min.css" rel="stylesheet" />
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Jost:wght@300;400;500;700;800;900&amp;display=swap" rel="stylesheet" />
  <link href="https://cdn.jsdelivr.net/npm/katex@0.13.18/dist/katex.min.css" rel="stylesheet" />
<!--  <link href="img/favicon1.eps" rel="icon" sizes="any" type="image/svg+xml" />-->

  <script src="https://cdn.jsdelivr.net/npm/katex@0.13.18/dist/katex.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/katex@0.13.18/dist/contrib/auto-render.min.js"></script>

  <!-- <link href="https://fonts.googleapis.com/css?family=Google+Sans|Noto+Sans|Castoro" rel="stylesheet" /> -->

  <link rel="stylesheet" href="css/bulma.min.css" />
  <!-- <link rel="stylesheet" href="css/bulma-carousel.min.css" /> -->
  <!-- <link rel="stylesheet" href="css/bulma-slider.min.css" /> -->
  <!-- <link rel="stylesheet" href="css/fontawesome.all.min.css" /> -->
  <!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jpswalsh/academicons@1/css/academicons.min.css" /> -->
  <!-- <link rel="stylesheet" href="css/index.css" /> -->
  <!-- <link rel="stylesheet" href="https://unpkg.com/beerslider/dist/BeerSlider.css"> -->

  <!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script> -->
  <!-- <script src="https://documentcloud.adobe.com/view-sdk/main.js"></script> -->
  <script defer src="js/fontawesome.all.min.js"></script>
  <!-- <script src="js/bulma-carousel.min.js"></script> -->
  <script src="js/bulma-slider.min.js"></script>
  <script src="js/index.js"></script>

  <style>

    code {
      white-space: pre-wrap;
    }

    body {
      font-family: 'Jost';
    }

    b {
      font-weight: black;
    }

    strong {
      font-weight: bold;
    }

    section>h5 {
      padding-bottom: 30px;
    }

    .col-12>h3 {
      padding-top: 30px;
    }

    .results-section {
      padding-bottom: 30px;
    }

    .carousel-control-prev,
    .carousel-control-next {
      background-color: rgba(0, 0, 0, 0.5);
      border-radius: 50%;
      width: 50px;
      height: 50px;
      display: flex;
      align-items: center;
      justify-content: center;
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
    }

    .carousel-control-prev {
      left: 25px;
    }

    .carousel-control-next {
      right: 25px;
    }

    .carousel-indicators {
      display: flex;
      align-items: center;
      justify-content: center;
      position: absolute;
      bottom: 10%;
      left: 90%;

      /* Adjust vertical position */
      text-align: center;
      /* Center the content horizontally */
      margin: 0;
      padding: 0;
      list-style: none;
    }

    .carousel-indicators li {
      background-color: transparent;
      /* Hide the default Bootstrap indicators */
      border: none;
      /* Remove border */
      margin: 0 25px;
      display: inline-block;
    }

    .indicator-dot {
      display: inline-block;
      width: 15px;
      height: 15px;
      text-indent: -999px;
      border: none;
      border-radius: 10px;
      background-color: rgba(0, 0, 0, 0.5);
    }

    .row.sm-gutters {
      margin-right: 5px;
      margin-left: 5px;
      margin-top: 5px;
      margin-bottom: 5px;
    }
  .row.sm-gutters-2 {
      justify-content: center;
      align-items:center;
  }

    .row.sm-gutters>.col-md-4 {
      padding-right: 5px;
      padding-left: 5px;
      padding-top: 5px;
      padding-bottom: 5px;
    }

    .row.sm-gutters>.col-md-6 {
      padding-right: 5px;
      padding-left: 5px;
      padding-top: 5px;
      padding-bottom: 5px;
    }
  .row.sm-gutters>.col-md-6-2 {
      justify-content: center;
      align-items:center;
  }
  .row.sm-gutters>.col-md-6-3 {
      padding-right: 5px;
      padding-left: 5px;
      padding-top: 5px;
      padding-bottom: 5px;
  }

    .row.sm-gutters>.col-md-12 {
      padding-top: 5px;
      padding-bottom: 5px;
      padding-right: 5px;
      padding-left: 5px;
    }

    .renbody-zoom-container {
      width: 80%;
      /* Or whatever size you want */
      aspect-ratio: 0.75;
      /* Or whatever size you want */
      overflow: hidden;
      /* Hide the parts of the video outside the container */
      object-fit: cover;
      /* Make sure the video covers the container without stretching */
      object-position: center;
      /* Center the video */
      border-radius: 5px;
    }

    .mobile-zoom-container {
      width: 100%;
      /* Or whatever size you want */
      aspect-ratio: 0.75;
      /* Or whatever size you want */
      overflow: hidden;
      /* Hide the parts of the video outside the container */
      object-fit: cover;
      /* Make sure the video covers the container without stretching */
      object-position: center;
      /* Center the video */
      border-radius: 5px;
      margin: 5px
    }

    .video-zoom-container {
      overflow: hidden;
      /* Hide the parts of the video outside the container */
      object-fit: cover;
      /* Make sure the video covers the container without stretching */
      object-position: center;
      border-radius: 5px;
      margin: 5px;
    }

    .zoom-element {
      transition: transform 0.2s ease-in-out;
    }

    .zoom-element:hover {
      transform: scale(1.65);
    }

    .nhr-zoom {
      transform: scale(1.45);
    }

    .renbody-zoom {
      transform: scale(1.65) translateY(2%);
      border-radius: 5px;
    }

    .mobile-zoom {
      transform: scale(1.65);
      border-radius: 5px;
    }

    .zjumocap-zoom {
      transform: scale(1.3);
    }

    video {
      border-radius: 5px;
      padding: 0px;
      margin: 0px;
    }

    .comparison-canvas {
      padding: 0px;
      margin: 0px;
      border-radius: 5px;
    }

    .a16x9 {
      aspect-ratio: 16/9;
    }

    .a4x3 {
      aspect-ratio: 1352/1014;
    }

    .a1x1 {
      aspect-ratio: 1;
    }

    .a16x9demo {
      aspect-ratio: 1920/1152;
    }

    .a4x3demo {
      aspect-ratio: 1352/1086;
    }

    .a1x1demo {
      aspect-ratio: 1600/1672;
    }
  
  img {
        display: block;
        margin: 0 auto;
      }
  
  </style>
  <script>



  </script>
  </link>
</head>

<body>
  <!-- cover -->
  <section>
    <div class="jumbotron text-center mt-0">
      <div class="container">
        <div class="row">
          <div class="col-12">
            
            <h1 style="font-weight: bold">
              <img src="img/idea23d.png" style="height: 48px; vertical-align: middle;" />
                <!-- <b style="color: #5a3e91">Idea</b>-<b style="color: #17bfe9">2</b>-<b style="color: #d73d5f">3D</b>: -->
                Iterative Self-Refinement with Large Multimodal Model <br> for Automated 3D Model Design and Generation
            </h1>

            <!-- <h1 style="font-weight: bold; line-height: 100px;">
              <img src="img/idea23d.png" style="height: 48px; vertical-align: middle;" />
              <span style="vertical-align: middle;">
                  Iterative Self-Refinement with Large Multimodal Model for Automated 3D Model Design and Generation
              </span>
          </h1> -->

            <!-- <h4 style="color:#5a6268;"> Conference [To be added] </h4> -->
            <a href="https://scholar.google.com/citations?hl=en&user=uVMnzPMAAAAJ" target="_blank">Junhao Chen<sup>*1,2</sup>, </a>
            <a href="https://scholar.google.com/citations?hl=en&user=_wyYvQsAAAAJ" target="_blank">Xiang Li<sup>*3</sup>, </a>
            <a href="https://scholar.google.com/citations?user=BKMYsm4AAAAJ&hl=en" target="_blank">Xiaojun Ye<sup>1,4</sup>, </a>
            <a href="https://scholar.google.com/citations?hl=en&user=WvbKfLgAAAAJ" target="_blank">Chao Li<Link></Link><sup>5</sup>, </a>
            <a href="https://github.com/zhaoxinf" target="_blank">Zhaoxin Fan<sup>6</sup>, </a>
            <a href="https://scholar.google.com/citations?hl=en&user=ygQznUQAAAAJ" target="_blank">Hao Zhao<sup>†1</sup> </a>
            </a>
            <p>
            <sup>1</sup>Institute for AI Industry Research (AIR), Tsinghua University
            <br>
            <sup>2</sup>Tsinghua Shenzhen International Graduate School, Tsinghua University
            <br>
            <sup>3</sup>School of Software and Microelectronics, Peking University
            <br>
            <sup>4</sup>College of Computer Science, Zhejiang University
            <br>
            <sup>5</sup>College of Computer Science and Technology, Harbin Engineering University
            <br>
            <sup>6</sup>State Key Laboratory of Multimodal Artificial Intelligence Systems, Institute of Automation, Chinese Academy of Sciences
            
            <span class="eql-cntrb"><small><br><sup>*</sup>Indicates Equal Contribution</small></span>
            <span style="margin: 1em;"></span>
            <span class="eql-cntrb"><small><sup>†</sup>Indicates Corresponding Author</small></span>

            </p>
            <div class="column has-text-centered">
              <div class="publication-links">
                <!-- Arxiv PDF link -->
                <span class="link-block">
                  <a href="https://arxiv.org/pdf/2403.12028.pdf" target="_blank"
                    class="external-link button is-normal is-rounded is-dark">
                    <span class="icon">
                      <i class="fas fa-file-pdf"></i>
                    </span>
                    <span>Paper(coming soon)</span>
                  </a>
                </span>

                <!-- Github link -->
                <span class="link-block">
                  <a href="https://github.com/yisuanwang/Idea23D" target="_blank"
                    class="external-link button is-normal is-rounded is-dark">
                    <span class="icon">
                      <i class="fab fa-github"></i>
                    </span>
                    <span>Code</span>
                  </a>
                </span>

                <!-- ArXiv abstract Link -->
                <span class="link-block">
                  <a href="https://arxiv.org/abs/2403.12028" target="_blank"
                    class="external-link button is-normal is-rounded is-dark">
                    <span class="icon">
                      <i class="ai ai-arxiv"></i>
                    </span>
                    <span>arXiv(coming soon)</span>
                  </a>
                </span>


              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- 正文 -->
  <!-- <section>
    <div class="container">
        
        <video autoplay="" class="a16x9demo" data-desktop-vid1="videos\teaser.mp4"
            loop="" muted="" playsinline="" poster="img/spinner.svg" width="80%">
        </video>
        <h6 style="color: #8899a5">
          The Idea-2-3D framework synergizes the capabilities of the Large Multimodal Model (LMM), Text-to-Image (T2I), and Image-to-3D (I23D) models to transform complex multimodal input IDEAs into tangible 3D models. 
          This process begins with the user articulating high-level 3D design requirements IDEA. 
          Following this, the LMM generates textual prompts (Prompt Generation) that are then converted into 3D models. 
          These models are evaluated through a Multiview Image Generation and Evaluation process, leading to the Selection of an Optimal 3D Model. 
          Subsequently, the Text-to-3D (T-2-3D) prompt is refined (Feedback Generation) using insights from the GPT-4V. 
          Additionally, an integrated memory module (see Sec. Memory Module), while not depicted here, meticulously records each iteration, facilitating a multimodal, iterative self-refinement cycle within the framework.
        </h6>
    </div>
  </section> -->
  <section>
    <div class="container" style="text-align: center;"> <!-- 居中容器内的所有内容 -->
        <video autoplay="" class="a16x9demo" data-desktop-vid1="videos\teaser.mp4"
            loop="" muted="" playsinline="" poster="img/spinner.svg" width="60%">
        </video>

        <h6 style="color: #8899a5">
          The Idea-2-3D framework synergizes the capabilities of the Large Multimodal Model (LMM), Text-to-Image (T2I), and Image-to-3D (I23D) models to transform complex multimodal input IDEAs into tangible 3D models. 
          This process begins with the user articulating high-level 3D design requirements IDEA. 
          Following this, the LMM generates textual prompts (Prompt Generation) that are then converted into 3D models. 
          These models are evaluated through a Multiview Image Generation and Evaluation process, leading to the Selection of an Optimal 3D Model. 
          Subsequently, the Text-to-3D (T-2-3D) prompt is refined (Feedback Generation) using insights from the GPT-4V. 
          Additionally, an integrated memory module (see Sec. Memory Module), while not depicted here, meticulously records each iteration, facilitating a multimodal, iterative self-refinement cycle within the framework.
        </h6>
    </div>
</section>




  <section>
    <div class="container"  >
      <div class="row justify-content-center">
        <div class="col-md-12 text-center">
            
          <div class="carousel slide" data-interval="10000" data-ride="carousel" id="bkgdCarousel">
            <ol class="carousel-indicators">
              <li class="active" data-slide-to="0" data-target="#bkgdCarousel">
                <span class="indicator-dot"></span>
              </li>
              <li data-slide-to="1" data-target="#bkgdCarousel">
                <span class="indicator-dot"></span>
              </li>
              <li data-slide-to="2" data-target="#bkgdCarousel">
                <span class="indicator-dot"></span>
              </li>
              <li data-slide-to="3" data-target="#bkgdCarousel">
                <span class="indicator-dot"></span>
              </li>
              <li data-slide-to="4" data-target="#bkgdCarousel">
                <span class="indicator-dot"></span>
              </li>
              <li data-slide-to="5" data-target="#bkgdCarousel">
                <span class="indicator-dot"></span>
              </li>
            </ol>

            

            <div class="carousel-inner" >
              <div class="carousel-item active">
                <div class="row sm-gutters">
                  <div class="col-md-12">
                    <video autoplay="" class="a16x9demo" data-desktop-vid1="videos\comp1.mp4"
                         loop="" muted="" playsinline="" poster="img/spinner.svg" width="60%">
   
                    </video>
                  </div>
                </div>
              </div>
 
              <div class="carousel-item">
                <div class="row sm-gutters">
                  <div class="col-md-12">
                    <video class="a16x9demo" data-desktop-vid1="videos\comp2.mp4"
                        data-desktop-vid2="videos\comp2.mp4"
                        loop="" muted="" playsinline="" poster="img/spinner.svg" preload="none" width="60%">
                    </video>
                  </div>
                </div>
              </div>

              <div class="carousel-item">
                <div class="row sm-gutters">
                  <div class="col-md-12">
                    <video class="a16x9demo" data-desktop-vid1="videos\comp3.mp4"
                        data-desktop-vid2="videos\comp3.mp4"
                        loop="" muted="" playsinline="" poster="img/spinner.svg" preload="none" width="60%">
                    </video>
                  </div>
                </div>
              </div>

              <div class="carousel-item">
                <div class="row sm-gutters">
                  <div class="col-md-12">
                    <video class="a16x9demo" data-desktop-vid1="videos\comp4.mp4"
                        data-desktop-vid2="videos\comp4.mp4"
                        loop="" muted="" playsinline="" poster="img/spinner.svg" preload="none" width="60%">
                    </video>
                  </div>
                </div>
              </div>

              <div class="carousel-item">
                <div class="row sm-gutters">
                  <div class="col-md-12">
                    <video class="a16x9demo" data-desktop-vid1="videos\comp5.mp4"
                        data-desktop-vid2="videos\comp5.mp4"
                        loop="" muted="" playsinline="" poster="img/spinner.svg" preload="none" width="60%">
                    </video>
                  </div>
                </div>
              </div>

              <div class="carousel-item">
                <div class="row sm-gutters">
                  <div class="col-md-12">
                    <video class="a16x9demo" data-desktop-vid1="videos\comp6.mp4"
                        data-desktop-vid2="videos\comp6.mp4"
                        loop="" muted="" playsinline="" poster="img/spinner.svg" preload="none" width="60%">
                    </video>
                  </div>
                </div>
              </div>
              
              <!-- <div class="carousel-inner">
                <div class="carousel-item active">
                  <div class="row sm-gutters">
                    <div class="col-md-12">
                      <video autoplay="" class="a16x9demo" data-desktop-vid1="videos\comp1.mp4"
                           loop="" muted="" playsinline="" poster="img/spinner.svg" width="60%">
     
                      </video>
                    </div>
                  </div>
                </div> -->
            </div>
            <a class="carousel-control-prev" data-slide="prev" href="#bkgdCarousel" role="button">
              <span aria-hidden="true" class="carousel-control-prev-icon"></span>
              <span class="sr-only">Previous</span>
            </a>
            <a class="carousel-control-next" data-slide="next" href="#bkgdCarousel" role="button">
              <span aria-hidden="true" class="carousel-control-next-icon"></span>
              <span class="sr-only">Next</span>
            </a>
          </div>


             
          </div>
        </div>
      </div>
    </div>
  </section>
  

  
  <!-- Abstract -->
  <section>
    <div class="container">
      <div class="row">
        <div class="col-12">
          <h3>Abstract</h3>
          <hr style="margin-top: 0px" />
<!--          <img src="img/teaser.jpg" width="100%" />-->
          <p class="text-left">
            Transforming high-level, abstract ideas into 3D models is a challenging yet crucial task in the field of computer vision and graphics. 
            Existing methods, such as Text-to-3D (T-2-3D), often behave poorly when dealing with intricate and nuanced language inputs, usually necessitating extensive user interaction. Our paper introduces a new framework, Idea-to-3D (Idea-2-3D), which harnesses the power of Large Multimodal Models (LMMs) to address these challenges. 
            Specifically, powered by GPT-4V(ision), Idea-2-3D is adept at interpreting multimodal inputs, including interelaved image-text sequences, to automatically design and generate 3D models. 
            Despite the potential of LMMs in enhancing T-2-3D, integrating and deciphering multimodal inputs presents its own set of difficulties. 
            Idea-2-3D resolves these issues with its distinctive iterative self-refinement technique, a memory module that logs iterative progress, and its capacity to craft high-fidelity 3D models from user ideas. 
            Our extensive user preference experiments substantiate Idea-2-3D's effectiveness, particularly in complex design tasks. 
            The user study demonstrates that in 94.2\% of cases, Idea-2-3D meets users' requirements, marking a degree of match between IDEA and 3D models that is 2.3 times higher than existing T-2-3D methods. 
            Moreover, in 93.5\% of the cases, users agreed that Idea-2-3D was better than T-2-3D.
            Codes, data and models will made publicly available.

          </p>
        </div>
      </div>
    </div>
  </section>

  <!-- Method -->
  <section>
    <div class="container">
      <div class="row">
        <div class="col-12">
          <h3>Method</h3>
          <hr style="margin-top: 0px" />
          <!-- <video autoplay="" class="a16x9demo" data-desktop-vid1="videos\overview.mp4"
            loop="" muted="" playsinline=""  width="100%">
        </video> -->
        
          <img src="img/pipeline.png" width="60%" />
          <p>
            Overview of the framework of Idea-2-3D, which employs LMM to explore the T-2-3D model's potential through multimodal iterative self-refinement to provide valid T-2-3D prompts for the input user IDEA. 
            Green rounded rectangles indicate steps completed by GPT-4V. 
            Purple rounded rectangles indicate T-2-3D modules, including T2I models and I-2-3D models. 
            The yellow rounded rectangle indicates the off-the-shelf 3D model multi-view generation algorithm. 
            To get a better reconstruction, we remove the background of the image between steps 2 and 3. 
            The blue color indicates the memory module, which saves all the feedback from previous rounds, the best 3D model, and the best text prompt.
          </p>
        </div>
      </div>
    </div>
  </section>

    <!-- Ablation Study -->
    <section>
      <div class="container">
        <div class="row">
          <div class="col-12">
            <h3>Ablation Study</h3>
            <div class="container" style="text-align: center;">
              <!-- <hr style="height: 48px; vertical-align: middle;" /> -->
              <video autoplay="" class="a16x9demo" data-desktop-vid1="videos\ablation.mp4"
                loop="" muted="" playsinline=""  width="60%">
            </video>
            </div>
            
          
            <!-- <img src="img/pipeline.png" width="80%" /> -->
            <p>
              From the supplementary experiments (sixth iteration and seventh iteration), it can be seen that despite the increase in the number of iterations, there is no significant improvement in the quality of the 3D model after removing our proposed module.

              The quantitative analysis in shows that our proposed MEMORY module can effectively prevent the 3D model generation effect of each iteration from deviating from the user input.

              Our proposed feedback can effectively improve the speed of iterative convergence, i.e., the generated 3D model can reach the matching with user input items in shorter iteration rounds.

              If the storage information of the previous model in the memory module is removed, there will be a lower upper limit for the convergence of the generated 3D model to match the user input.
  
            </p>
          </div>
        </div>
      </div>
    </section>


  <!-- citing -->
  <div class="container">
    <div class="row">
      <div class="col-md-12">
        </br>
        </br>
        <h3>Citation</h3>
        <hr style="margin-top: 0px" />
        <pre style="background-color: #e9eeef; padding: 1.5em 1.5em; border-radius: 20px">
<code>@article{Idea-2-3D,
  title={Idea-2-3D: Iterative Self-Refinement with Large Multimodal Model for Automated 3D Model Design and Generation}, 
  author={Junhao Chen and Xiang Li and Xiaojun Ye and Chao Li and Zhaoxin Fan and Hao Zhao},
  year={2024},
  eprint={coming soon},
  archivePrefix={arXiv},
  primaryClass={cs.CV}
}
</code></pre>
        <hr />
      </div>
    </div>
  </div>

  <footer class="text-center" style="margin-bottom: 10px">
      This page is built upon
    <a href="https://menyifang.github.io/projects/En3D/index.html" target="_blank">EN3D</a>
      and
    <a href="https://air-discover.github.io/SCP-Diff/" target="_blank">SCP-Diff</a>
  </footer>
  
  
  <section class="results-section">
    <div class="container">
      <div class="row">
        <div class="col-md-12">
          <h5>
            <button aria-controls="renbody-results" aria-expanded="false" class="btn btn-primary" data-target="#renbody-results" data-toggle="collapse" id="renbody-results-button" type="button">
            </button>
          </h5>
        </div>
      </div>
    </div>
  </section>
  <section class="results-section">
    <div class="container">
      <div class="row">
        <div class="col-md-12">
            <button aria-controls="mobilestage-results" aria-expanded="false" class="btn btn-primary" data-target="#mobilestage-results" data-toggle="collapse" id="mobilestage-results-button" type="button">
            </button>
        </div>
      </div>
      
    </div>
  </section>
  <section class="results-section">
    <div class="container">
      <div class="row">
        <div class="col-md-12">
          <h5>
            <button aria-controls="outdoor-results" aria-expanded="false" class="btn btn-primary" data-target="#outdoor-results" data-toggle="collapse" id="outdoor-results-button" type="button">
            </button>
          </h5>
        </div>
      </div>
      <div class="collapse" id="outdoor-results">
        <div class="col-md-12">
          
        </div>
      </div>
    </div>
  </section>
  <section class="results-section">
    <div class="container">
      <div class="row">
        <div class="col-md-12">
          <h5>
            <button aria-controls="n3dv-results" aria-expanded="false" class="btn btn-primary" data-target="#n3dv-results" data-toggle="collapse" id="n3dv-results-button" type="button">
            </button>
          </h5>
        </div>
      </div>
      
      </div>
    </div>
  </section>
  <section class="results-section">
    <div class="container">
      <div class="row">
        <div class="col-md-12">
          <h5>
            <button aria-controls="nhr-results" aria-expanded="false" class="btn btn-primary" data-target="#nhr-results" data-toggle="collapse" id="nhr-results-button" type="button">
            </button>
          </h5>
        </div>
      </div>
      
    </div>
  </section>
  <section class="results-section">
    <div class="container">
      <div class="row">
        <div class="col-md-12">
          <h5>
            <button aria-controls="zjumocap-results" aria-expanded="false" class="btn btn-primary" data-target="#zjumocap-results" data-toggle="collapse" id="zjumocap-results-button" type="button">
            </button>
          </h5>
        </div>
      </div>
      
    </div>
  </section>
  <section class="results-section">
    <div class="container">
      <div class="row">
        <div class="col-md-12">
          <h5>
            <button aria-controls="mobilestage-single-results" aria-expanded="false" class="btn btn-primary" data-target="#mobilestage-single-results" data-toggle="collapse" id="mobilestage-single-results-button" type="button">
            </button>
          </h5>
        </div>
      </div>
      
    </div>
  </section>
  
  <section class="results-section">
    <div class="container">
      <div class="row">
        <div class="col-md-12">
          <h5>
            <button aria-controls="nhr-demos" aria-expanded="false" class="btn btn-primary" data-target="#nhr-demos" data-toggle="collapse" id="nhr-demos-button" type="button">
            </button>
          </h5>
        </div>
      </div>
      
    </div>
  </section>
  <section class="results-section">
    <div class="container">
      <div class="row">
        <div class="col-md-12">
          <h5>
            <button aria-controls="zjumocap-demos" aria-expanded="false" class="btn btn-primary" data-target="#zjumocap-demos" data-toggle="collapse" id="zjumocap-demos-button" type="button">
            </button>
          </h5>
        </div>
      </div>
      
    </div>
  </section>
  <section class="results-section">
    <div class="container">
      <div class="row">
        <div class="col-md-12">
          <h5>
            <button aria-controls="mobilestage-demos" aria-expanded="false" class="btn btn-primary" data-target="#mobilestage-demos" data-toggle="collapse" id="mobilestage-demos-button" type="button">
            </button>
          </h5>
        </div>
      </div>
      
    </div>
  </section>
  <section class="results-section">
    <div class="container">
      <div class="row">
        <div class="col-md-12">
          <h5>
            <button aria-controls="n3dv-demos" aria-expanded="false" class="btn btn-primary" data-target="#n3dv-demos" data-toggle="collapse" id="n3dv-demos-button" type="button">
            </button>
          </h5>
        </div>
      </div>
      
    </div>
  </section>

  <section class="results-section">
    <div class="container">
      <div class="row">
        <div class="col-md-12">
          <h5>
            <button aria-controls="kplanes-comparisons" aria-expanded="false" class="btn btn-primary" data-target="#kplanes-comparisons" data-toggle="collapse" id="kplanes-comparisons-button" type="button">
            </button>
          </h5>
        </div>
      </div>
      
    </div>
  </section>
  <section class="results-section">
    <div class="container">
      <div class="row">
        <div class="col-md-12">
          <h5>
            <button aria-controls="enerf-comparisons" aria-expanded="false" class="btn btn-primary" data-target="#enerf-comparisons" data-toggle="collapse" id="enerf-comparisons-button" type="button">
            </button>
          </h5>
        </div>
      </div>
      
    </div>
  </section>



  <script type="text/javascript">
    var sc_project = 12931644;
    var sc_invisible = 1;
    var sc_security = '012c8c76';
  </script>
  <script async="" src="https://www.statcounter.com/counter/counter.js" type="text/javascript"></script>
  <noscript>
    <div class="statcounter">
      <a href="https://statcounter.com/" target="_blank" title="Web Analytics
  Made Easy - Statcounter"><img alt="Web Analytics Made Easy - Statcounter" class="statcounter" referrerpolicy="no-referrer-when-downgrade" src="https://c.statcounter.com/12931644/0/012c8c76/1/" /></a>
    </div>
  </noscript>
  <!-- End of Statcounter Code -->
  <script>
    var buttonIds = [
      'mobilestage-results-button',
      'outdoor-results-button',
      'renbody-results-button',
      'n3dv-results-button',
      'nhr-results-button',
      'zjumocap-results-button',
      'mobilestage-single-results-button',

      'nhr-demos-button',
      'zjumocap-demos-button',
      'mobilestage-demos-button',
      'n3dv-demos-button',
     /* ...other button ids... */];
    var sectionIds = [
      'mobilestage-results',
      'outdoor-results',
      'renbody-results',
      'n3dv-results',
      'nhr-results',
      'zjumocap-results',
      'mobilestage-single-results',

      'nhr-demos',
      'zjumocap-demos',
      'mobilestage-demos',
      'n3dv-demos',
      /* ...other section ids... */];
    for (var i = 0; i < buttonIds.length; i++) {
      (function (index) {
        var button = document.getElementById(buttonIds[index]);
        var section = document.getElementById(sectionIds[index]);
        button.addEventListener('click', function () {
          if (section.classList.contains('show')) {
            button.innerText = 'Click to Expand';
            var videos = section.getElementsByTagName('video');
            for (var j = 0; j < videos.length; j++) {
              if (videos[j].readyState >= HTMLMediaElement.HAVE_CURRENT_DATA) {
                videos[j].pause();
              }
            }
          } else {
            button.innerText = 'Click to Collapse';
            var videos = section.getElementsByTagName('video');
            for (var j = 0; j < videos.length; j++) {
              videos[j].play();
            }
          }
        });
      })(i);
    }

    var compare_button_ids = [
      'enerf-comparisons-button',
      'kplanes-comparisons-button',
     /* ...other button ids... */];
    var compare_section_ids = [
      'enerf-comparisons',
      'kplanes-comparisons',
      /* ...other section ids... */];
    for (var i = 0; i < compare_button_ids.length; i++) {
      (function (index) {
        var button = document.getElementById(compare_button_ids[index]);
        var section = document.getElementById(compare_section_ids[index]);
        button.addEventListener('click', function () {
          if (section.classList.contains('show')) {
            button.innerText = 'Click to Expand';
            var videos = section.getElementsByTagName('video');
            for (var j = 0; j < videos.length; j++) {
              if (videos[j].readyState >= HTMLMediaElement.HAVE_CURRENT_DATA) {
                videos[j].pause();
              }
            }
            var merge = $(document.getElementById(compare_section_ids[index]))[0].getElementsByTagName('canvas')[0];
            if (merge.hasAttribute('animation_id')) {
              cancelAnimationFrame(merge.getAttribute('animation_id'));
            }
          } else {
            button.innerText = 'Click to Collapse';
            var videos = section.getElementsByTagName('video');
            for (var j = 0; j < videos.length; j++) {
              videos[j].play();
              // if (videos[j].readyState >= HTMLMediaElement.HAVE_CURRENT_DATA) {
              // playVids(videos[j].id)
              resizeAndPlay(videos[j])
              // }
            }
          }
        });
      })(i);
    }

    document.addEventListener("DOMContentLoaded", function () {
      renderMathInElement(document.body, {
        delimiters: [
          { left: "$", right: "$", display: false },
          { left: "$$", right: "$$", display: true }
        ]
      });
    });



    function handleCarouselSlide(event) {
      // Reference to the current carousel
      var currentCarousel = $(event.target);

      // Check each video in the current carousel
      currentCarousel.find('video').each(function () {
        var isVideoInActiveItem = $(this).closest('.carousel-item').hasClass('active');
        if (isVideoInActiveItem) {
          if (this.readyState >= HTMLMediaElement.HAVE_CURRENT_DATA) {
            this.height = (this.videoHeight / this.videoWidth) * $(this).parent().width();
          }
          this.play();
        } else {
          if (this.readyState >= HTMLMediaElement.HAVE_CURRENT_DATA) {
            this.pause();
          }
        }
      });
    }

    $('.carousel').on('slid.bs.carousel', handleCarouselSlide);

    $(document).ready(function () {
      $('video').each(function () {
        var $video = $(this);
        var $carousel = $video.closest('.carousel');
        if ($carousel.length > 0) {
          $video.on('ended', function () {
            $carousel.carousel('next');
          });
        }
      });
    });

    function update_video_shape() {
      this.height = (this.videoHeight / this.videoWidth) * $(this).parent().width();
    }

    // fix the element's width and height properties to the current video ones
    $("video").each(function () {
      if (!this.classList.contains('comparison-video')) {
        $(this).on('loadeddata', update_video_shape);
      }
    });

    // $("#renbody-results-button").click()

    document.addEventListener("DOMContentLoaded", function () {
      // Get all videos
      var videos = document.querySelectorAll('video');

      // Add source to video tag
      function addSourceToVideo(element, src) {
        var source = document.createElement('source');
        source.src = src;
        source.type = 'video/mp4';
        element.appendChild(source);
      }

      // Determine screen size and select appropriate videos
      function whichSizeVideo(element) {
        var windowWidth = window.innerWidth || window.innerWidth;
        var prefix = windowWidth > 1200 ? "desktop" : "mobile";

        // Get all data attributes for the given prefix (e.g., data-mobile-vid1, data-mobile-vid2, ...)
        var i = 1;
        while (element.dataset[prefix + "Vid" + i]) {
          addSourceToVideo(element, element.dataset[prefix + "Vid" + i]);
          i++;
        }
      }

      // Initialize only if the page has videos
      function videoSize() {
        if (videos) {
          videos.forEach(whichSizeVideo);
        }
      }

      videoSize();

      setInterval(function () {
        // 选择所有comparison-video类型的视频
        let videos = document.querySelectorAll('.comparison-video');

        videos.forEach(video => {
          // 如果id没有以After结尾
          if (!video.id.endsWith('After')) {
            resizeAndPlay(video);
          }
        });
      }, 10000);  // 每500毫秒检测一次

    });
  </script>
</body>

</html>
